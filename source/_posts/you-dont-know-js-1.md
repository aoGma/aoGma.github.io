---
title: you-dont-know-js-1
date: 2024-03-29 17:10:42
tags:
---
## 你不知道的JavaScript-上

### 1.作用域是什么

**作用域是一套规则，用于确定在何处以及如何查找变量（标识符）。**如果查找的目的是对变量进行赋值，那么就会使用LHS查询；如果目的是获取变量的值，就会使用RHS查询。赋值操作符会导致LHS查询。＝操作符或调用函数时传入参数的操作都会导致关联作用域的赋值操作。

不成功的RHS引用会导致抛出ReferenceError异常。不成功的LHS引用会导致自动隐式地创建一个全局变量（非严格模式下），该变量使用LHS引用的目标作为标识符，或者抛出ReferenceError异常（严格模式下）。

### 2.词法作用域

**词法作用域意味着作用域是由书写代码时函数声明的位置来决定的。**编译的词法分析阶段基本能够知道全部标识符在哪里以及是如何声明的，从而能够预测在执行过程中如何对它们进行查找。

### 3.函数作用域和块作用域

#### IIFE（Immediately Invoked Function Expression）

立即执行函数表达式

```javascript
(function() {
  /**
   * function content
   */
})()
```

函数是JavaScript中最常见的作用域单元。本质上，声明在一个函数内部的变量或函数会在所处的作用域中“隐藏”起来，这是有意为之的良好软件的设计原则。

### 4.提升

我们习惯将var a = 2;看作一个声明，而实际上JavaScript引擎并不这么认为。它将var a和a = 2当作两个单独的声明，第一个是编译阶段的任务，而第二个则是执行阶段的任务。

声明本身会被提升，而包括函数表达式的赋值在内的赋值操作并不会提升。

### 5.作用域闭包

当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用域之外执行。

> 当函数可以记住并访问所在的词法作用域，即使函数是在当前词法作用域之外执行，这时就产生了闭包。

### 6.This
